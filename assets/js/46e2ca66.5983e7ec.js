"use strict";(self.webpackChunkdevraw_docs=self.webpackChunkdevraw_docs||[]).push([[640],{998:(e,n,i)=>{i.r(n),i.d(n,{assets:()=>l,contentTitle:()=>c,default:()=>u,frontMatter:()=>o,metadata:()=>t,toc:()=>d});const t=JSON.parse('{"id":"scripting/fundamentals/programming-fundamentals","title":"GSC Fundamentals","description":"The key elements that are fundamental to scripting in GSC.","source":"@site/docs/scripting/fundamentals/programming-fundamentals.mdx","sourceDirName":"scripting/fundamentals","slug":"/scripting/fundamentals/fundamentals","permalink":"/scripting/fundamentals/fundamentals","draft":false,"unlisted":false,"editUrl":"https://github.com/facebook/docusaurus/tree/main/packages/create-docusaurus/templates/shared/docs/scripting/fundamentals/programming-fundamentals.mdx","tags":[],"version":"current","sidebarPosition":1,"frontMatter":{"sidebar_position":1,"sidebar_label":"Fundamentals","description":"The key elements that are fundamental to scripting in GSC.","slug":"/scripting/fundamentals/fundamentals"},"sidebar":"tutorialSidebar","previous":{"title":"Fundamentals","permalink":"/category/fundamentals"},"next":{"title":"code-readability-standards","permalink":"/scripting/fundamentals/code-readability-standards"}}');var r=i(4848),s=i(8453),a=i(7979);const o={sidebar_position:1,sidebar_label:"Fundamentals",description:"The key elements that are fundamental to scripting in GSC.",slug:"/scripting/fundamentals/fundamentals"},c="GSC Fundamentals",l={},d=[{value:"Functions",id:"functions",level:2},{value:"Defining a function in GSC:",id:"defining-a-function-in-gsc",level:3},{value:"Calling a function:",id:"calling-a-function",level:3},{value:"Function parameters:",id:"function-parameters",level:3},{value:"Threading functions:",id:"threading-functions",level:3},{value:"Variable scopes",id:"variable-scopes",level:2},{value:"Passing by reference vs value",id:"passing-by-reference-vs-value",level:2},{value:"Object-oriented programming (mainly just storing variables in objects)",id:"object-oriented-programming-mainly-just-storing-variables-in-objects",level:2},{value:"Macros",id:"macros",level:2},{value:"Header files &amp; includes",id:"header-files--includes",level:2},{value:"Code readability",id:"code-readability",level:2},{value:"Naming conventions",id:"naming-conventions",level:3},{value:"Spacing",id:"spacing",level:3}];function h(e){const n={a:"a",code:"code",em:"em",h1:"h1",h2:"h2",h3:"h3",header:"header",hr:"hr",img:"img",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,s.R)(),...e.components};return a.A||p("Levels",!1),a.A.Beginner||p("Levels.Beginner",!0),(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(n.header,{children:(0,r.jsx)(n.h1,{id:"gsc-fundamentals",children:"GSC Fundamentals"})}),"\n","\n",(0,r.jsx)(n.p,{children:"This page outlines essential information on programming that every scripter needs to know before writing in GSC."}),"\n",(0,r.jsx)(a.A.Beginner,{}),"\n",(0,r.jsx)(n.hr,{}),"\n",(0,r.jsxs)(n.p,{children:["Everything listed here is ",(0,r.jsx)(n.strong,{children:"essential"})," to know before you start writing scripts in GSC. If you're new to programming, then this is the place to start."]}),"\n",(0,r.jsx)(n.h2,{id:"functions",children:"Functions"}),"\n",(0,r.jsx)(n.p,{children:"A function just houses a bunch of code together. Developers will separate logic for specific tasks into separate functions."}),"\n",(0,r.jsx)(n.h3,{id:"defining-a-function-in-gsc",children:"Defining a function in GSC:"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-gsc",metastring:'title="Simple function declaration"',children:'function my_new_function()\r\n{\r\n    IPrintLnBold( "Hello world!" );\r\n}\n'})}),"\n",(0,r.jsx)(n.p,{children:"Functions helps separate code out, making it easier to follow and understand. Not only that, it allows us to re-run the code in that function, instead of re-writing it."}),"\n",(0,r.jsx)(n.p,{children:"For example, if you have 12 different buyable doors in your map, you can create one function that will get called on every single door. Then any properties that change for each debris, i.e. the purchase price, or the specific door model that needs to be swung open, you can pull from KVPs in Radiant. KVPs get passed into scripts as variables, but they're stored in the entity's object."}),"\n",(0,r.jsx)(n.h3,{id:"calling-a-function",children:"Calling a function:"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-gsc",metastring:'title="Example function call scenario"',children:'function main()\r\n{\r\n    // Get entity with targetname "debris_trigger" from the level\r\n    debris_trig = GetEnt( "debris_trigger", "targetname" );\r\n    debris_trig trigger_logic(); // Call function on trigger\r\n}\r\n\r\n// self == a debris trigger\r\nfunction trigger_logic()\r\n{\r\n    self SetHintString( "Activate Me!" );\r\n    // ...\r\n}\n'})}),"\n",(0,r.jsxs)(n.p,{children:["As you can see, we've ran the ",(0,r.jsx)(n.code,{children:"trigger_logic()"})," function on the ",(0,r.jsx)(n.code,{children:"debris_trig"})," object that we got from the level using the ",(0,r.jsx)(n.code,{children:"GetEnt()"})," engine function. Now we can access the ",(0,r.jsx)(n.code,{children:"debris_trig"})," entity as ",(0,r.jsx)(n.strong,{children:(0,r.jsx)(n.code,{children:"self"})})," in the ",(0,r.jsx)(n.code,{children:"trigger_logic()"})," function. Objects like entities returned by ",(0,r.jsx)(n.code,{children:"GetEnt()"})," are ",(0,r.jsx)(n.strong,{children:"passed by reference"}),". So, ",(0,r.jsx)(n.code,{children:"self"})," in the ",(0,r.jsx)(n.code,{children:"trigger_logic()"})," function will point to the original object."]}),"\n",(0,r.jsxs)(n.p,{children:["The ",(0,r.jsx)(n.code,{children:"SetHintString()"})," and the ",(0,r.jsx)(n.code,{children:"GetEnt()"})," function is an ",(0,r.jsx)(n.a,{href:"/faq#engine-functions",children:"engine function"}),". You can find most of the engine functions documented on ",(0,r.jsxs)(n.a,{href:"https://www.gscode.net/library/gsc",children:["gscode.net ",(0,r.jsx)(n.em,{children:(0,r.jsx)(n.img,{alt:"external_link",src:i(8269).A+"",width:"14",height:"14"})})]}),"."]}),"\n",(0,r.jsx)(n.h3,{id:"function-parameters",children:"Function parameters:"}),"\n",(0,r.jsx)(n.p,{children:"// TODO ------------------"}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.em,{children:"Parameters"})," (or ",(0,r.jsx)(n.em,{children:"arguments"}),") are variables you can pass to a function when you call it."]}),"\n",(0,r.jsx)(n.p,{children:"With function parameters, you can call the same function multiple times, but pass it different parameters each time and make it process different data."}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-gsc",children:"function main()\r\n{\r\n    foreach( player in level.players )\r\n    {\r\n        player.\r\n    }\r\n}\n"})}),"\n",(0,r.jsx)(n.h3,{id:"threading-functions",children:"Threading functions:"}),"\n",(0,r.jsxs)(n.p,{children:["// TODO ------------------\r\n// function pointers ",(0,r.jsx)(n.code,{children:"&"}),", varargs"]}),"\n",(0,r.jsx)(n.h2,{id:"variable-scopes",children:"Variable scopes"}),"\n",(0,r.jsxs)(n.p,{children:["Variables defined inside a function are ",(0,r.jsx)(n.code,{children:"local"})," to that function. They're contained inside that function"]}),"\n",(0,r.jsxs)(n.p,{children:["// local vs global variables\r\n// ",(0,r.jsx)(n.code,{children:"level"}),", ",(0,r.jsx)(n.code,{children:"game"}),", etc. (there's ",(0,r.jsx)(n.code,{children:"world"})," and ",(0,r.jsx)(n.code,{children:"mission"}),", but these aren't really used in the mod tools, maybe if you're making a mod)\r\n// Test defining vars outside functions to see if they're made global to the script"]}),"\n",(0,r.jsx)(n.h2,{id:"passing-by-reference-vs-value",children:"Passing by reference vs value"}),"\n",(0,r.jsx)(n.p,{children:"// TODO ------------------"}),"\n",(0,r.jsx)(n.h2,{id:"object-oriented-programming-mainly-just-storing-variables-in-objects",children:"Object-oriented programming (mainly just storing variables in objects)"}),"\n",(0,r.jsx)(n.p,{children:"// TODO ------------------\r\n// SpawnStruct()\r\n// use player as an example of getting / setting variables in an object"}),"\n",(0,r.jsx)(n.h2,{id:"macros",children:"Macros"}),"\n",(0,r.jsxs)(n.p,{children:["So another practice in GSC is to use ",(0,r.jsx)(n.a,{href:"#macros",children:(0,r.jsx)(n.strong,{children:"macros"})}),", as when you define a macro, it's accessible by ",(0,r.jsx)(n.em,{children:"any function"})," inside that script. In other words, it's ",(0,r.jsx)(n.strong,{children:"global"})," to that script."]}),"\n",(0,r.jsxs)(n.p,{children:["// TODO ------------------\r\n// How macros work (compiler replaces the macro with its definition) - show screenshots & mention ",(0,r.jsx)(n.code,{children:"__init_sytem__"})," in decompiled scripts\r\n// GSH files\r\n// Examples of useful macros in ",(0,r.jsx)(n.code,{children:"shared.gsh"})," (i.e. SQUARE(), IS_TRUE(), etc.)"]}),"\n",(0,r.jsx)(n.h2,{id:"header-files--includes",children:"Header files & includes"}),"\n",(0,r.jsx)(n.p,{children:"// TODO ------------------"}),"\n",(0,r.jsx)(n.h2,{id:"code-readability",children:"Code readability"}),"\n",(0,r.jsx)(n.p,{children:"I thought I'd stick this section at the end, not because it's unimportant, but because it's more of a \"best practice\" than a fundamental."}),"\n",(0,r.jsx)(n.p,{children:"Code readability is important because it makes it easier for you to debug your code, and for others to understand it."}),"\n",(0,r.jsx)(n.p,{children:"But forget other people for a second. If you leave a script for a few months and then come back to it, you're going to have a really hard time if its formatted poorly. Sometimes, you look back at code and you don't remember what you were thinking when you were writing it, if you even remember writing it at all. So, it's important to make your code readable to make it easier for your future self to understand."}),"\n",(0,r.jsxs)(n.p,{children:["Don't be a lazy programmer, and please, for the love of god, ",(0,r.jsx)("u",{children:(0,r.jsx)(n.em,{children:"format your code properly"})}),"."]}),"\n",(0,r.jsx)(n.h3,{id:"naming-conventions",children:"Naming conventions"}),"\n",(0,r.jsx)(n.p,{children:"There are three main types of naming conventions in programming:"}),"\n",(0,r.jsxs)(n.ol,{children:["\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsx)(n.p,{children:"Snake Case (AKA Underscore Notation):"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"In Snake Case, multiple words are separated by underscores (_), and each word is written in lowercase."}),"\n",(0,r.jsxs)(n.li,{children:["Examples: ",(0,r.jsx)(n.code,{children:"my_variable"}),", ",(0,r.jsx)(n.code,{children:"get_player_speed"}),"."]}),"\n"]}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsx)(n.p,{children:"Camel Case:"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"In Camel Case, the first word is written in lowercase, and subsequent words start with uppercase letters."}),"\n",(0,r.jsxs)(n.li,{children:["Examples: ",(0,r.jsx)(n.code,{children:"myVariable"}),", ",(0,r.jsx)(n.code,{children:"getPlayerSpeed"}),"."]}),"\n"]}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsx)(n.p,{children:"Pascal Case (also known as Initial Caps):"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"In Pascal Case, each word starts with an uppercase letter."}),"\n",(0,r.jsxs)(n.li,{children:["Examples: ",(0,r.jsx)(n.code,{children:"MyVariable"}),", ",(0,r.jsx)(n.code,{children:"GetPlayerSpeed"}),"."]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,r.jsxs)(n.p,{children:["In GSC, the standard for ",(0,r.jsx)(n.strong,{children:"variable and function names"})," is ",(0,r.jsx)(n.code,{children:"snake_case"}),"."]}),"\n",(0,r.jsxs)(n.p,{children:["However, there are some exceptions to this rule: rarely, variables created by ",(0,r.jsx)(n.a,{href:"/faq#3arc",children:"3arc"})," devs in the stock scripts are in ",(0,r.jsx)(n.code,{children:"camelCase"})," (and some don't have even any spacing or capitalisation at all \ud83d\udc80). Not that capitalisation matters, because GSC is ",(0,r.jsx)(n.strong,{children:"case insensitive"})," anyway."]}),"\n",(0,r.jsxs)(n.p,{children:["Furthermore, the standard for ",(0,r.jsx)(n.a,{href:"/faq#engine-functions",children:"Engine functions"})," is different. Engine functions use ",(0,r.jsx)(n.code,{children:"PascalCase"}),"."]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-gsc",metastring:'title="Example of how different naming conventions are used in GSC"',children:"if( !IsAI( self.attacker ) ) // IsAI() is an engine function, so uses PascalCase\r\n{\r\n    zombie_team = undefined; // snake_case for zombie_team\r\n    zm_utility::recalc_zombie_array(); // snake_case for recalc_zombie_array (and the zm_utility namespace I guess)\r\n}\n"})}),"\n",(0,r.jsx)(n.h3,{id:"spacing",children:"Spacing"}),"\n",(0,r.jsx)(n.p,{children:"One thing I hate more than anything is reading code with no spaces in. It's honestly comparable to reading a book with no spaces between the words. If I'm learning a new Python or C++ concept, I'll often look at Stack Overflow or some other forum to learn about it."}),"\n",(0,r.jsx)(n.p,{children:"Sometimes, people will post code snippets like this:"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-cpp",metastring:'title="Poorly formatted C++ code"',children:"if(x<0.3&&y>2||!std::rand(x-y)&&!condition){\r\n    std::cout<<++x?0:1<<std::endln;\r\n}\n"})}),"\n",(0,r.jsx)(n.p,{children:"Now, compare that with this:"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-cpp",metastring:'title="Well formatted C++ code"',children:"if(x < 0.3 && y > 2 || !std::rand(x - y) && !condition)\r\n{\r\n    std::cout << ++x ? 0 : 1 << std::endln;\r\n}\n"})}),"\n",(0,r.jsx)(n.p,{children:"You can tell me which one you'd rather read."}),"\n",(0,r.jsx)(n.p,{children:"There is a balance, though. You don't want to go overboard with spaces. For example, you don't need to put a space between a function name and its calling parentheses."}),"\n",(0,r.jsx)(n.p,{children:"There are variations of this, with some preferring not to put spaces between brackets and their contents. You've probably noticed from all the GSC code snippets I wrote that I personally do, but it's up to you."}),"\n",(0,r.jsx)(n.p,{children:"Here is a GSC code snippet formatted with a few different spacing styles. You can decide which styles you prefer:"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-gsc",children:"// TODO ------------------\n"})}),"\n",(0,r.jsx)(n.hr,{}),"\n",(0,r.jsx)("br",{})]})}function u(e={}){const{wrapper:n}={...(0,s.R)(),...e.components};return n?(0,r.jsx)(n,{...e,children:(0,r.jsx)(h,{...e})}):h(e)}function p(e,n){throw new Error("Expected "+(n?"component":"object")+" `"+e+"` to be defined: you likely forgot to import, pass, or provide it.")}},7979:(e,n,i)=>{i.d(n,{A:()=>r});var t=i(4848);const r={Beginner:()=>(0,t.jsx)("span",{children:(0,t.jsx)("span",{style:{backgroundColor:"#0f9d58",borderRadius:"0.4rem",color:"#fff",padding:"10px",marginBottom:"1.25rem"},children:"Beginner"})}),Intermediate:()=>(0,t.jsx)("span",{style:{backgroundColor:"#ffa000",borderRadius:"0.4rem",color:"#fff",padding:"10px",marginBottom:"1.25rem"},children:"Intermediate"}),Advanced:()=>(0,t.jsx)("span",{style:{backgroundColor:"#ed3419",borderRadius:"0.4rem",color:"#fff",padding:"10px",marginBottom:"1.25rem"},children:"Advanced"})}},8269:(e,n,i)=>{i.d(n,{A:()=>t});const t="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAA4AAAAOCAYAAAAfSC3RAAABiGlDQ1BHSU1QIGJ1aWx0LWluIHNSR0IAACiRfdA9aFMBFAXg770oEWnpYAaRDm+IDmJBVMRRUjEIFkoaIYkOJi9NGshLQ35w6Si4Fhz8Waw6uDjr6uAqCII/IM4OToouUuKQQIIYz3Q495zLvYdwrx0n/QOnSTqDXiGfi0rlSpT+Ki2QEThZjfvdtY3LRXPx670A3q2046Q/3/dPLNY3+zFBhItxtzcguInztwbdAcF9ZOKtap3gOU71SuUKwUdkamP+DZlmqVwhhEyvWFglzCBqzvDaDI+3egnhOWTrSadOWBrzep1wB9mkPYwndwZY2Oxc20AWy/KuWLMuUjPU0jawoqUj0leQl5uTP4Zl64Zq2lpikUu2JapaOpTKlejvbvuNs2fGmxZyHPwyGv04Tvou+7uj0e/Ho9H+E1KfedWZ5rf3uPCT1O5Uyz5i6TYvXk+12j1e3uHop261VwUphI0G35+xWObIWw5fH/c2mXv6geIOV9/w4CEnmizdmPP3odne/uuZ9PcHRYdylcVbSrEAAAAJcEhZcwAADsQAAA7EAZUrDhsAAAH/SURBVCiRdZJNa1NREIafOefm5tykt02KIsSNrUvRjS4FEdGNbl2JILQUCnHRvyEo2L0Qf4K7+htct1i0pqAoxaYx5uPe5OaccdEPQ8V3+8w7zDszUn/R22Osy5xXWb4UV6Kr0Uf/UETfgdozVpJ2lIzCMiqfVfT9rK+YmPbwkyOEYrtGdgA0zqDXpSjxAPreC83CzDhFkAksFLqfqNwj0h1ATnHkfDiuQ8gtZPaYVcZwo2Oodx1fa2FtWMtlpi0m8UriFecDtUlgYaw0+o5bu1UqBdKtDV+FNNtIiVtlL9cTz/fEa4gSr6ezAXCx47DGYQMyjgebhcubiXEtG8+tTLJuiFRuR56bM0YockPpyBEuIHlt8FpKWTO2ruXLc6sOwrU4JZtO27s/8rZxXnFeSXzg2weHL0Ss7W9KMnpuIvfGJ+mKqPq036M3HDDMRusL1eneWcZoLBzux9j5/ktnRk1KrpVX0zUgJHmOyccU4wkUxVJq/fLJOcBr4M6Do8p8VddD7FoH6fyqUQ2X+iPqgyEjexJJz51DVdjaWhzdvd9rpLXKr8bvoV7uDSid8LKF3IKeGhOvioiJVFl5dMhEpBv/7GD079IAEg82CFNRI6hGbsq2GH2MkongExTCP58LQKxqS/BkGnQnKterT01n8FbQjdmX+o9UYccvzj37A0fx+bNaMInNAAAAAElFTkSuQmCC"},8453:(e,n,i)=>{i.d(n,{R:()=>a,x:()=>o});var t=i(6540);const r={},s=t.createContext(r);function a(e){const n=t.useContext(s);return t.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function o(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(r):e.components||r:a(e.components),t.createElement(s.Provider,{value:n},e.children)}}}]);